<html>
<head>
    <meta charset="utf-8">
    <title>R11 SDK 测试</title>
    <style>
        .btn {
            text-align: center;
            background: dodgerblue;
            color: white;
            padding: 20px;
            margin: 30px;
            font-size: 24px;
            border-radius: 4px;
            box-shadow: 4px 2px 10px #999;
        }
    </style>
    <script type="text/javascript" src="rJsBridge.min.js"></script>
</head>
<body>
<h1>Hello RainbowEleven</h1>
<div class="btn" onclick="callSyn()">同步调用原生插件(不带参数)</div>
<div class="btn" onclick="callSynArgs()">同步调用原生插件(带参数,字典)</div>
<div class="btn" onclick="callSynStringArgs()">同步调用原生插件(带参数,字符串)</div>
<div class="btn" onclick="callASyn()">异步调用插件(不带参数)</div>
<div class="btn" onclick="callASynArgs()">异步调用原生插件(参数,字典)</div>
<div class="btn" onclick="callASynStringArgs()">异步调用原生插件(参数,字符串)</div>
<div class="btn" onclick="callASynNumberArgs()">异步调用原生插件(参数,数字)</div>
<div class="btn" onclick="callASynBooleanArgs()">异步调用原生插件(参数,布尔值)</div>
<div class="btn" onclick="callASynArrayArgs()">异步调用原生插件(参数,数组)</div>
<div class="btn" onclick="callSynStoreObj()">同步调用原生插件(store对象,字典)</div>
<div class="btn" onclick="callASynStoreObj()">异步调用原生插件(store对象,字典)</div>
<div id="content"></div>
</body>
<script type="text/javascript">
    // 给原生调用(不带参数)
    // 原生将会调用到window.jsBridge.userDefault.testNavCall
    jsBridge.register('testNavCall', function (params) {
        var contentDiv = document.getElementById('content')
        var paramsStr = JSON.stringify(params)
        contentDiv.innerHTML = contentDiv.innerHTML + '<div>原生调用JS成功,原生传递参数：' + paramsStr + '</div>'
        return 'testNavCall被调用，params：' + paramsStr
    });
    // 同步调用原生插件(不带参数)
    function callSyn() {
        console.log('同步调用原生插件(不带参数) begin')
        var _result = jsBridge.call('store', 'getValue', {})
        console.log('同步调用原生插件(不带参数) end，原生返回结果：' + _result)
    }
    // 同步调用原生插件(带参数,字典)
    function callSynArgs() {
        console.log('同步调用原生插件(带参数,字典) begin')
        var _result = jsBridge.call('store', 'getValue', {'foo': 'bar'})
        console.log('同步调用原生插件(带参数,字典) end， 原生返回结果：' + _result)
    }
    // 同步调用原生插件(带参数,字符串)
    function callSynStringArgs() {
        console.log('同步调用原生插件(带参数,字符串) begin')
        var _result = jsBridge.call('store', 'getValue', 'this is a string')
        console.log('同步调用原生插件(带参数,字符串) end，原生返回结果：' + _result)
    }
    // 异步调用插件(不带参数)
    function callASyn() {
        console.log('异步调用插件(不带参数) begin')
        jsBridge.call('network', 'get', {}, function (r) {
            console.log('异步调用插件(不带参数) end，原生返回结果：' + r)
        })
    }
    // 异步调用原生插件(参数,字典)
    function callASynArgs() {
        console.log('异步调用原生插件(参数,字典) begin')
        jsBridge.call('network', 'get', {'foo': 'bar'}, function (r) {
            console.log('异步调用原生插件(参数,字典) end，原生返回结果：' + r)
        })
    }
    // 异步调用原生插件(参数,字符串)
    function callASynStringArgs() {
        console.log('异步调用原生插件(参数,字符串) begin')
        jsBridge.call('network', 'post', 'this is a string', function (r) {
            console.log('异步调用原生插件(参数,字符串) end，原生返回结果：' + r)
        })
    }
    // 异步调用原生插件(参数,数字)
    function callASynNumberArgs() {
        console.log('异步调用原生插件(参数,数字) begin')
        jsBridge.call('network', 'post', 5, function (r) {
            console.log('异步调用原生插件(参数,数字) end，原生返回结果：' + r)
        })
    }
    // 异步调用原生插件(参数,布尔值)
    function callASynBooleanArgs() {
        console.log('异步调用原生插件(参数,布尔值) begin')
        jsBridge.call('network', 'post', true, function (r) {
            console.log('异步调用原生插件(参数,布尔值) end，原生返回结果：' + r)
        })
    }
    // 异步调用原生插件(参数,数组)
    function callASynArrayArgs() {
        console.log('异步调用原生插件(参数,数组) begin')
        jsBridge.call('network', 'post', ['foo', 'bar'], function (r) {
            console.log('异步调用原生插件(参数,数组) end，原生返回结果：' + r)
        })
    }
    // 同步调用原生插件(store对象,字典)
    function callSynStoreObj() {
        console.log('同步调用原生插件(store对象,字典) begin')
        var _result = jsBridge.store.getValue({'foo': 'bar'})
        console.log('同步调用原生插件(store对象,字典) end, 原生返回结果：' + _result)
    }
    // 异步调用原生插件(store对象,字典)
    function callASynStoreObj() {
        console.log('异步调用原生插件(store对象,字典) begin')
        jsBridge.network.get({'foo': 'bar'}, function (r) {
            console.log('异步调用原生插件(store对象,字典) end, 原生返回结果：' + r)
        })
    }
</script>
</html>
